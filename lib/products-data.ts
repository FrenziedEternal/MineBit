// ข้อมูลสินค้าทั้งหมด - แก้ไขที่นี่จุดเดียวแล้วมีผลทุกหน้า
export const productsData = {
  1: {
    nameKey: "product.1.name",
    price: 300,
    tags: ["BP", "No_Beta-API"],
    category: "Add-ons",
    author: "BarryAroy",
    images: [
      "/images/luxury-leaderboard-cover.png",
      "/images/luxury-leaderboard1.png",
      "/images/luxury-leaderboard2.png",
      "/images/luxury-leaderboard3.png",
      "/images/luxury-leaderboard4.png",
      "/images/luxury-leaderboard5.png",
      "/images/luxury-leaderboard6.png",
    ],
    descriptionKey: "product.1.description",
    featuresKeys: [
      "product.1.features.0",
      "product.1.features.1",
      "product.1.features.2",
      "product.1.features.3",
      "product.1.features.4",
    ],
    compatibility: "Minecraft Bedrock 1.21.10x+",
  },
  2: {
    nameKey: "product.2.name",
    price: 999,
    tags: ["Map"],
    category: "Maps",
    author: "BarryAroy",
    images: ["/images/nothing_404.png", "/images/nothing_404.png", "/images/nothing_404.png"],
    descriptionKey: "product.2.description",
    featuresKeys: ["product.2.features.0"],
    compatibility: "Minecraft Bedrock 1.21.10x+",
  },
  3: {
    nameKey: "product.3.name",
    price: 150,
    tags: ["RP"],
    category: "Resource Packs",
    author: "BarryAroy",
    images: [
      "/images/savage-impaler-cover.png",
      "/images/savage-impaler1.png",
      "/images/savage-impaler2.png",
      "/images/savage-impaler3.png",
      "/images/savage-impaler4.png",
      "/images/savage-impaler5.png",
    ],
    descriptionKey: "product.3.description",
    featuresKeys: ["product.3.features.0", "product.3.features.1"],
    compatibility: "Minecraft Bedrock 1.21.10x+",
  },
  4: {
    nameKey: "product.4.name",
    price: 300,
    tags: ["BP", "No_Beta-API"],
    category: "Add-ons",
    author: "BarryAroy",
    images: [
      "/images/player-honor-cover.png",
      "/images/player-honor1.png",
      "/images/player-honor2.png",
      "/images/player-honor3.png",
      "/images/player-honor4.png",
      "/images/player-honor5.png",
    ],
    descriptionKey: "product.4.description",
    featuresKeys: ["product.4.features.0", "product.4.features.1", "product.4.features.2", "product.4.features.3"],
    compatibility: "Minecraft Bedrock 1.21.10x+",
  },
  5: {
    nameKey: "product.5.name",
    price: 300,
    tags: ["BP", "No_Beta-API"],
    category: "Add-ons",
    author: "BarryAroy",
    images: [
      "/images/frenzied-crafting-cover.png",
      "/images/frenzied-crafting1.png",
      "/images/frenzied-crafting2.png",
      "/images/frenzied-crafting3.png",
      "/images/frenzied-crafting4.png",
      "/images/frenzied-crafting5.png",
    ],
    descriptionKey: "product.5.description",
    featuresKeys: ["product.5.features.0", "product.5.features.1", "product.5.features.2", "product.5.features.3"],
    compatibility: "Minecraft Bedrock 1.21.10x+",
  },
  6: {
    nameKey: "product.6.name",
    price: 999,
    tags: ["RP"],
    category: "Resource Packs",
    author: "BarryAroy",
    images: ["/images/nothing_404.png", "/images/nothing_404.png", "/images/nothing_404.png"],
    descriptionKey: "product.6.description",
    featuresKeys: ["product.6.features.0"],
    compatibility: "Minecraft Bedrock 1.21.10x+",
  },
  7: {
    nameKey: "product.7.name",
    price: 999,
    tags: ["Map"],
    category: "Maps",
    author: "BarryAroy",
    images: ["/images/nothing_404.png", "/images/nothing_404.png", "/images/nothing_404.png"],
    descriptionKey: "product.7.description",
    featuresKeys: ["product.7.features.0"],
    compatibility: "Minecraft Bedrock 1.21.10x+",
  },
  8: {
    nameKey: "product.8.name",
    price: 999,
    tags: ["CMD"],
    category: "Commands",
    author: "BarryAroy",
    images: ["/images/nothing_404.png", "/images/nothing_404.png", "/images/nothing_404.png"],
    descriptionKey: "product.8.description",
    featuresKeys: ["product.8.features.0"],
    compatibility: "Minecraft Bedrock 1.21.10x+",
  },
  9: {
    nameKey: "product.9.name",
    price: 999,
    tags: ["CMD"],
    category: "Commands",
    author: "BarryAroy",
    images: ["/images/nothing_404.png", "/images/nothing_404.png", "/images/nothing_404.png"],
    descriptionKey: "product.9.description",
    featuresKeys: ["product.9.features.0"],
    compatibility: "Minecraft Bedrock 1.21.10x+",
  },
  10: {
    nameKey: "product.10.name",
    price: 999,
    tags: ["CMD"],
    category: "Commands",
    author: "BarryAroy",
    images: ["/images/nothing_404.png", "/images/nothing_404.png", "/images/nothing_404.png"],
    descriptionKey: "product.10.description",
    featuresKeys: ["product.10.features.0"],
    compatibility: "Minecraft Bedrock 1.21.10x+",
  },
  11: {
    nameKey: "product.11.name",
    price: 999,
    tags: ["APP"],
    category: "Apps",
    author: "BarryAroy",
    images: ["/images/nothing_404.png", "/images/nothing_404.png", "/images/nothing_404.png"],
    descriptionKey: "product.11.description",
    featuresKeys: ["product.11.features.0"],
    compatibility: "Minecraft Bedrock 1.21.10x+",
  },
  12: {
    nameKey: "product.12.name",
    price: 999,
    tags: ["APP"],
    category: "Apps",
    author: "BarryAroy",
    images: ["/images/nothing_404.png", "/images/nothing_404.png", "/images/nothing_404.png"],
    descriptionKey: "product.12.description",
    featuresKeys: ["product.12.features.0"],
    compatibility: "Minecraft Bedrock 1.21.10x+",
  },
  13: {
    nameKey: "product.13.name",
    price: 999,
    tags: ["APP"],
    category: "Apps",
    author: "BarryAroy",
    images: ["/images/nothing_404.png", "/images/nothing_404.png", "/images/nothing_404.png"],
    descriptionKey: "product.13.description",
    featuresKeys: ["product.13.features.0"],
    compatibility: "Minecraft Bedrock 1.21.10x+",
  },
  14: {
    nameKey: "product.14.name",
    price: 250,
    tags: ["BP", "No_Beta-API"],
    category: "Add-ons",
    author: "BarryAroy",
    images: [
      "/images/gacha-plus-cover.png",
      "/images/gacha-plus-promo.png",
      "/images/gacha-plus1.png",
      "/images/gacha-plus2.png",
      "/images/gacha-plus3.png",
      "/images/gacha-plus4.png",
      "/images/gacha-plus5.png",
      "/images/gacha-plus6.png",
    ],
    descriptionKey: "product.14.description",
    featuresKeys: ["product.14.features.0", "product.14.features.1", "product.14.features.2"],
    compatibility: "Minecraft Bedrock 1.21.10x+",
  },
  15: {
    nameKey: "product.15.name",
    price: 350,
    tags: ["WEB"],
    category: "Websites",
    author: "BarryAroy",
    images: [
      "/images/website-cover.png",
      "/images/website-new1.png",
      "/images/website-new2.png",
      "/images/website-new3.png",
      "/images/website-new4.png",
      "/images/website-new5.png",
      "/images/website-new6.png",
      "/images/website-new7.png",
      "/images/website-new8.png",
      "/images/website-new9.png",
    ],
    descriptionKey: "product.15.description",
    featuresKeys: [
      "product.15.features.0",
      "product.15.features.1",
      "product.15.features.2",
      "product.15.features.3",
      "product.15.features.4",
      "product.15.features.5",
      "product.15.features.6",
      "product.15.features.7",
      "product.15.features.8",
    ],
    compatibility: "All Platforms",
  },
  16: {
    nameKey: "product.16.name",
    price: 450,
    tags: ["WEB"],
    category: "Websites",
    author: "BarryAroy",
    images: [
      "/images/review-system-cover.png",
      "/images/review-system-new1.png",
      "/images/review-system-new2.png",
      "/images/review-system-new3.png",
      "/images/review-system-new4.png",
    ],
    descriptionKey: "product.16.description",
    featuresKeys: [
      "product.16.features.0",
      "product.16.features.1",
      "product.16.features.2",
      "product.16.features.3",
      "product.16.features.4",
      "product.16.features.5",
    ],
    compatibility: "All Platforms",
  },
  17: {
    nameKey: "product.17.name",
    price: "???",
    tags: ["BP & RP"],
    category: "Add-ons",
    author: "BarryAroy & Thaideity",
    images: ["/images/female-core-cover.png", "/images/bed-bella1.png", "/images/bed-bella2.png", "/images/bed-bella3.png", "https://youtu.be/XoBbbLyqyMA","https://youtu.be/sRCi1YnLX7s","https://youtu.be/olhNIGaBCBU","https://youtu.be/ScNWTzUEwTE","https://youtu.be/xtvTQN9uMdA", "https://youtu.be/PE3XG_Uvss0"],
    descriptionKey: "product.17.description",
    featuresKeys: [
      "product.17.features.0",
      "product.17.features.1",
      "product.17.features.2",
      "product.17.features.3",
      "product.17.features.4",
      "product.17.features.5",
      "product.17.features.6",
      "product.17.features.7",
      "product.17.features.8",
      "product.17.features.9",
    ],
    compatibility: "Minecraft Bedrock 1.21.10x+",
  },
  18: {
    nameKey: "product.18.name",
    price: 69,
    tags: ["BP & RP"],
    category: "Add-ons",
    author: "BarryAroy",
    images: [
      "/images/thaitech-ring-cover.png",
      "/images/thaitech-ring1.png",
      "/images/thaitech-ring2.png",
      "/images/thaitech-ring3.png",
      "/images/thaitech-ring4.png",
      "/images/thaitech-ring5.png",
      "https://youtu.be/sHYUvObW3gU?si=SD8ZvvXH9WctXv0O",
    ],
    descriptionKey: "product.18.description",
    featuresKeys: [
      "product.18.features.0",
      "product.18.features.1",
      "product.18.features.2",
      "product.18.features.3",
      "product.18.features.4",
      "product.18.features.5",
    ],
    compatibility: "Minecraft Bedrock 1.21.10x+",
  },
  19: {
    nameKey: "product.19.name",
    price: 100,
    tags: ["BP", "Beta-API"],
    category: "Add-ons",
    author: "BarryAroy",
    images: [
      "/images/bitcommands-cover.png",
      "/images/bitcommands1.png",
      "/images/bitcommands2.png",
      "/images/bitcommands3.png",
      "/images/bitcommands4.png",
      "/images/bitcommands5.png",
    ],
    descriptionKey: "product.19.description",
    featuresKeys: ["product.19.features.0", "product.19.features.1", "product.19.features.2", "product.19.features.3"],
    compatibility: "Minecraft Bedrock 1.21.10x+",
  },
  20: {
    nameKey: "product.20.name",
    price: 300,
    tags: ["BP", "Beta-API"],
    category: "Add-ons",
    author: "BarryAroy",
    images: [
      "/images/minebit-display-cover.png",
      "/images/minebit-display1.png",
      "/images/minebit-display2.png",
      "https://youtu.be/iMyc6eLl-04?si=81k1Ax1iTG9M3wnD",
    ],
    descriptionKey: "product.20.description",
    featuresKeys: [
      "product.20.features.0",
      "product.20.features.1",
      "product.20.features.2",
      "product.20.features.3",
      "product.20.features.4",
      "product.20.features.5",
    ],
    compatibility: "Minecraft Bedrock 1.21.10x+",
  },
  21: {
    nameKey: "product.21.name",
    price: "???",
    tags: ["BP & RP"],
    category: "Add-ons",
    author: "BarryAroy & Thaideity",
    images: [
      "/images/ponytail-cover.png",
      "/images/ponytail1.png",
      "/images/ponytail3.png",
      "/images/ponytail4.png",
      "https://youtu.be/8r7KW4dY53M",
    ],
    descriptionKey: "product.21.description",
    featuresKeys: [
      "product.21.features.0",
      "product.21.features.1",
      "product.21.features.2",
      "product.21.features.3",
      "product.21.features.4",
    ],
    compatibility: "Minecraft Bedrock 1.21.10x+",
  },
  22: {
    nameKey: "product.22.name",
    price: 100,
    tags: ["BP & RP", "No_Beta-API"],
    category: "Add-ons",
    author: "BarryAroy",
    images: [
      "/images/great-amulets-cover.png",
      "/images/great-amulets1.png",
      "/images/great-amulets2.png",
      "/images/great-amulets3.png",
      "https://www.youtube.com/watch?v=YCGUw6LiZmE",
    ],
    descriptionKey: "product.22.description",
    featuresKeys: ["product.22.features.0", "product.22.features.1", "product.22.features.2"],
    compatibility: "Minecraft Bedrock 1.21.10x+",
  },
}

// ข้อมูลหมวดหมู่
export const categoriesData = {
  addons: {
    name: "Add-ons",
    description: "Add new features and special abilities to your Minecraft game",
    availableTags: ["BP", "BP & RP", "Beta-API", "No Beta-API"],
    productIds: [17, 21, 20, 19, 18, 22, 14, 5, 4, 1],
  },
  "resource-packs": {
    name: "Resource Packs",
    description: "Change visual appearance and textures",
    availableTags: ["RP"],
    productIds: [3],
  },
  maps: {
    name: "Maps",
    description: "Worlds and constructions for adventure",
    availableTags: ["Map"],
    productIds: [2, 7],
  },
  commands: {
    name: "Commands",
    description: "Commands and basic systems for gameplay",
    availableTags: ["CMD"],
    productIds: [8, 9, 10],
  },
  apps: {
    name: "Apps",
    description: "External helper tools for management and development",
    availableTags: ["APP"],
    productIds: [11, 12, 13],
  },
  websites: {
    name: "Websites",
    description: "Various website systems according to preferences",
    availableTags: ["WEB"],
    productIds: [15, 16],
  },
}

// ฟังก์ชันช่วยเหลือ
export const getProductById = (id: number | string, t?: (key: string) => string) => {
  const product = productsData[id as keyof typeof productsData]
  if (!product) return null

  if (t) {
    return getTranslatedProduct(id, t)
  }
  return product
}

export const getProductsByCategory = (categorySlug: string, t?: (key: string) => string) => {
  const category = categoriesData[categorySlug as keyof typeof categoriesData]
  if (!category) return []

  return category.productIds
    .map((id) => {
      const product = productsData[id as keyof typeof productsData]
      if (!product) return null

      const result = {
        id,
        ...product,
      }

      if (t) {
        return {
          ...result,
          name: t(product.nameKey),
          description: t(product.descriptionKey),
          features: product.featuresKeys.map((key) => t(key)),
        }
      }

      return result
    })
    .filter(Boolean)
}

export const getFeaturedProducts = (t?: (key: string) => string) => {
  // สินค้าแนะนำ (แอดออนที่มีจริง - ไม่รวมสินค้าที่ยังไม่มี)
  return [1, 4, 5, 14, 17, 18, 19, 20, 21, 22] // Only real products, exclude placeholder products
    .map((id) => {
      const product = productsData[id as keyof typeof productsData]
      if (!product) return null

      const result = {
        id,
        ...product,
      }

      if (t) {
        const translatedProduct = {
          ...result,
          name: t(product.nameKey),
          description: t(product.descriptionKey),
          features: product.featuresKeys.map((key) => t(key)),
        }

        if (translatedProduct.name === "ยังไม่มีสินค้า" || translatedProduct.name === "No Products Yet") {
          return null
        }

        return translatedProduct
      }

      return result
    })
    .filter(Boolean)
    .slice(0, 4) // Limit to 4 products for featured section
}

export const getAllProducts = (t?: (key: string) => string) => {
  return Object.entries(productsData).map(([id, product]) => {
    const result = {
      id: Number(id),
      ...product,
    }

    if (t) {
      return {
        ...result,
        name: t(product.nameKey),
        description: t(product.descriptionKey),
        features: product.featuresKeys.map((key) => t(key)),
      }
    }

    return result
  })
}

// สำหรับ favorites page
export const getProductsForFavorites = (t?: (key: string) => string) => {
  const result: Record<string, any> = {}
  Object.entries(productsData).forEach(([id, product]) => {
    result[id] = {
      name: t ? t(product.nameKey) : product.nameKey,
      price: product.price,
      tags: product.tags,
      category: product.category,
      image: product.images[0], // ใช้รูปแรก
    }
  })
  return result
}

export const getTranslatedProduct = (id: number | string, t: (key: string) => string) => {
  const product = productsData[id as keyof typeof productsData]
  if (!product) return null

  return {
    ...product,
    name: t(product.nameKey),
    description: t(product.descriptionKey),
    features: product.featuresKeys.map((key) => t(key)),
  }
}
